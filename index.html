<!DOCTYPE html>
<html>
<head>
  <title>API Example</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mux/mux-player"></script>
    <script src="https://cdn.mux.com/video.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mux/mux-uploader@1.0.0-beta.6"></script>
    
</head>
<body>

<script type="module" src="https://streams.bitmovin.com/js/component.js"></script>
<bitmovin-stream stream-id="ckgoe9b0ni16lcnl1540" />

 <ul>
    <li><strong>Storyline:</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
    <li><strong>Release Date:</strong> January 1, 2022</li>
    <li><strong>Rating:</strong> 8.5/10</li>
    <li><strong>Duration:</strong> 2h 30min</li>
    <li><strong>Country:</strong> United States</li>
    <li><strong>Cast:</strong> Actor Name</li>
  </ul>
  
  <script>
  async function uploadVideo () {
  // videoUri here is the local URI to the video file on the device
  // this can be obtained with an ImagePicker library like expo-image-picker
  const imageResponse = await fetch(videoUri)
  const blob = await imageResponse.blob()

  // Create an authenticated Mux URL
  // this request should hit your backend and return a "url" in the
  // response body
  const uploadResponse = await fetch('https://api.mux.com/video/v1/uploads')
  const uploadUrl = (await uploadResponse.json()).url

  try {
    let res = await fetch(uploadUrl, {
      method: 'PUT',
      body: blob,
      headers: { "content-type": blob.type}
    });
    console.log("Upload is complete");
  } catch(error) {
    console.error(error);
  }
};
</script>


</body>
</html>
